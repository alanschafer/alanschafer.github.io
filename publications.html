<script>
  document.addEventListener("DOMContentLoaded", function () {
    const welcomeModal = document.getElementById("welcomeModal");
    const closeModalBtn = document.getElementById("closeModal");
    const closeXBtn = document.getElementById("closeX");

    // Show modal if first visit
    if (!localStorage.getItem("visitedPublications")) {
      welcomeModal.style.display = "flex";
      localStorage.setItem("visitedPublications", "true");
    }

    // Close modal functions
    function closeModal() {
      welcomeModal.style.display = "none";
    }

    closeModalBtn.addEventListener("click", closeModal);
    closeXBtn.addEventListener("click", closeModal);

    // Close when clicking outside modal content
    welcomeModal.addEventListener("click", function (e) {
      if (e.target === welcomeModal) {
        closeModal();
      }
    });

    // Optional: trigger Esc key to close
    document.addEventListener("keydown", function (e) {
      if (e.key === "Escape" && welcomeModal.style.display === "flex") {
        closeModal();
      }
    });
  });
</script>
